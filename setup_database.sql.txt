-- Tạo và dùng database DictionaryDB2
IF DB_ID('DictionaryDB2') IS NULL
    CREATE DATABASE DictionaryDB2;
GO

USE DictionaryDB2;
GO

-- Bảng từ điển
IF OBJECT_ID('EV_Dictionary','U') IS NOT NULL
    DROP TABLE EV_Dictionary;
GO

CREATE TABLE EV_Dictionary (
    English NVARCHAR(255) PRIMARY KEY,
    Vietnamese NVARCHAR(MAX) NOT NULL,
    Example NVARCHAR(MAX) NULL
);
GO

-- Bảng lịch sử
IF OBJECT_ID('History','U') IS NOT NULL
    DROP TABLE History;
GO

CREATE TABLE History (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    QueryWord NVARCHAR(255) NOT NULL,
    ClientAddr NVARCHAR(100) NULL,
    QueryTime DATETIME DEFAULT GETDATE()
);
GO

-- (Tùy chọn) chèn vài bản ghi mẫu
INSERT INTO EV_Dictionary (English, Vietnamese, Example) VALUES
('hello', N'chào', N'Hello, how are you?'),
('apple', N'táo', N'I eat an apple every day.');
GO
